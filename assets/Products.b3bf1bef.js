import{D as _,o,b as c,p as e,O as p,J as g,s as u,t as h,v as l,z as v,r as k,d as y,e as x,q as b}from"./vendor.7c20991a.js";import{_ as f}from"./index.ad61d20f.js";import{a as m}from"./index.03ddc5cf.js";const C={props:{pages:{type:Object,default:()=>({})}},setup(d,{emit:s}){return _(async()=>{}),{updatePages:a=>{s("update-pages",a)}}}},$={"aria-label":"Page navigation example"},j={class:"pagination justify-content-center"},D=e("span",{"aria-hidden":"true"},"\xAB",-1),N=[D],w={key:0,class:"page-link"},V=["onClick"],B=e("span",{"aria-hidden":"true"},"\xBB",-1),U=[B];function z(d,s,t,a,i,P){return o(),c("nav",$,[e("ul",j,[e("li",{class:p(["page-item",{disabled:t.pages.current_page===1}])},[e("a",{class:"page-link",href:"#","aria-label":"Previous",onClick:s[0]||(s[0]=g(r=>a.updatePages(t.pages.current_page-1),["prevent"]))},N)],2),(o(!0),c(u,null,h(t.pages.total_pages,(r,n)=>(o(),c("li",{key:`page${n}`,class:p(["page-item",{active:r===t.pages.current_page}])},[r===t.pages.current_page?(o(),c("span",w,l(r),1)):(o(),c("a",{key:1,class:"page-link",href:"#",onClick:g(K=>a.updatePages(r),["prevent"])},l(r),9,V))],2))),128)),e("li",{class:p(["page-item",{disabled:t.pages.current_page===t.pages.total_pages}])},[e("a",{class:"page-link",href:"#","aria-label":"Next",onClick:s[1]||(s[1]=g(r=>a.updatePages(t.pages.current_page+1),["prevent"]))},U)],2)])])}var M=f(C,[["render",z]]);const O={components:{Pagination:M},name:"admin-Products",props:["token"],setup(){const d=v([]),s=v({});_(async()=>{try{await m.auth.checkAuth(),t()}catch(a){console.log(a),alert(a.message)}});const t=async(a=1)=>{try{const i=await m.adminProducts.getProducts(a);d.value=i.products,s.value=i.pagination}catch(i){alert(i.message)}};return{products:d,pagination:s,getData:t}}},q={class:"container"},A={class:"row py-1"},E={class:"col-12 col-sm-12"},F=b(" \u9019\u88E1\u662F \u5F8C\u53F0 \u7522\u54C1\u5217\u8868 "),J={class:"table table-hover mt-4"},L=e("thead",null,[e("tr",null,[e("th",{scope:"col"},"\u5206\u985E"),e("th",{scope:"col",class:"text-start"},"\u7522\u54C1\u540D\u7A31"),e("th",{scope:"col"},"\u539F\u50F9"),e("th",{scope:"col"},"\u552E\u50F9"),e("th",{scope:"col"},"\u662F\u5426\u555F\u7528")])],-1),S={class:"text-end"},T={class:"text-end"},G={key:0,class:"text-success"},H={key:1};function I(d,s,t,a,i,P){const r=k("Pagination");return o(),c("div",q,[e("div",A,[e("div",E,[F,e("table",J,[L,e("tbody",null,[(o(!0),c(u,null,h(a.products,n=>(o(),c("tr",{key:n.id},[e("td",null,l(n.category),1),e("td",null,l(n.title),1),e("td",S,l(n.origin_price),1),e("td",T,l(n.price),1),e("td",null,[n.is_enabled?(o(),c("span",G,"\u555F\u7528")):(o(),c("span",H,"\u672A\u555F\u7528"))])]))),128))])])])]),y(' <Pagination :pages="pagination" @emit-pages="getProducts"></Pagination> '),x(r,{pages:a.pagination,"onUpdate:pages":s[0]||(s[0]=n=>a.pagination=n),onUpdatePages:a.getData},null,8,["pages","onUpdatePages"])])}var X=f(O,[["render",I]]);export{X as default};
